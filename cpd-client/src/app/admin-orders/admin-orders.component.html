<div class="container-fluid">
    <h1>Order list</h1>
    <table class="table">

        <tr class="thead-dark">
            <th>Date</th>

            <th>Customer Name</th>
            <th>Product</th>
            <th style="text-align:right">unit price</th>
            <th style="text-align:right">Quantiy </th>
            <th style="text-align:right">Order Price</th>
            <th style="text-align:center">Stage</th>

        </tr>


        <tr *ngFor="let order of orders">
            <td>{{order.create_date}}</td>
            <td>{{order.userId.firstName}} {{order.userId.lastName}}</td>
            <td>
                <div>
                    <div *ngFor="let item of order.orderItems">{{item.product.productName}}</div>

                </div>
            </td>
            <td>
                <div style="text-align:right" *ngFor="let item of order.orderItems">{{item.product.unitPrize|number:'1.2-2'}} </div>
            </td>
            <td style="text-align:right">
                <div *ngFor="let item of order.orderItems">{{item.quntity}} </div>
            </td>
            <td>
                <div style="text-align:right" *ngFor="let item of order.orderItems">{{item.product.unitPrize*item.quntity|number:'1.2-2'}}</div>
            </td>
            <td style="text-align:right">
                <select class="col-auto custom-select" id="inputGroupSelect02" [value]="order.state" (change)="order.state = selectElem.value;"  #selectElem>
                    <option [value]="0" selected>Pending...</option>
                    <option [value]="1">Approved</option>
                    <option [value]="2">Production</option>
                    <option [value]="3">Delivery</option>
                    <option [value]="4">Finished</option>
                </select>
                <button (click)="saveOrderState(order)" class="col-auto btn btn-info">save</button>
            </td>

        </tr>

    </table>

</div>